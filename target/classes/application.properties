# =============================================================
# === 1. CẤU HÌNH SERVER (Tomcat nhúng) ===
# =============================================================
server.port=8080
server.servlet.context-path=/aesp
# =============================================================
# === 2. CẤU HÌNH CƠ SỞ DỮ LIỆU (DATASOURCE) ===
# =============================================================
# Spring Boot tự động dùng HikariCP (Connection Pooling)
# THAY THẾ CHÍNH XÁC VỚI THÔNG TIN CỦA BẠN
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=app_aesp;encrypt=false;trustServerCertificate=true;
spring.datasource.username=sa
spring.datasource.password=phongla@12345
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# =============================================================
# === 3. CẤU HÌNH JPA/HIBERNATE (Persistence Layer) ===
# =============================================================

# Tự động tạo/cập nhật bảng (update: không mất dữ liệu; create: xóa và tạo mới; validate: kiểm tra)
spring.jpa.hibernate.ddl-auto=none
# Hiển thị câu lệnh SQL trong Console (Debugging)
spring.jpa.show-sql=true 
# Định dạng SQL (chỉ có tác dụng khi show-sql=true)
spring.jpa.properties.hibernate.format_sql=true
# Giúp các từ khóa như 'USER' được bảo vệ thành "USER" hoặc [USER] trong SQL.
spring.jpa.properties.hibernate.globally_quoted_identifiers=true
# Khai báo Dialect cho SQL Server (Quan trọng)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
# Cấu hình để Spring Data JPA quản lý các Entity theo đường dẫn
spring.jpa.properties.hibernate.packagesToScan=com.aesp.pojo
# THÊM CẤU HÌNH TRANG CHỦ MỚI
spring.mvc.welcome-file=register.html
# =============================================================
# === 5. CẤU HÌNH LỖI (DEBUGGING) ===
# =============================================================
# Bật debug mode để thấy báo cáo chi tiết khi có lỗi
logging.level.org.springframework.web=DEBUG
# =============================================================
# === 6.netstat -ano | findstr :8080 và taskkill /PID 0 /F //KIỂM TRA CỔNG
# CÓ BỊ CHIẾM ĐÓNG HAY KHÔNG  IN cmd
# =============================================================
# Tắt thông báo Cảnh báo (WARN) của Hibernate
logging.level.org.hibernate.tool.schema=ERROR

# Tắt thông báo thông tin chung (INFO) của JPA
logging.level.org.springframework.orm.jpa=WARN

# Tắt cảnh báo View Layer (Nếu có)
logging.level.org.springframework.web.servlet.view=WARN

# THÊM CẤU HÌNH THYMELYAF (HOẶC ĐẢM BẢO NÓ KHÔNG BỊ GHI ĐÈ)
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
# Cấu hình này giúp Hibernate KHÔNG thay đổi hasMentor thành has_mentor
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
